server:
  servlet:
    context-path: '/layers/v2'
  port: 8630
  shutdown: graceful

spring:
  datasource:
    url: 'jdbc:postgresql://localhost:5432/postgres'
    username: postgres
    password: postgres
    hikari:
      register-mbeans: true
      pool-name: HikariPool-1
      minimum-idle: 2
      maximum-pool-size: 10
      connection-timeout: 60000
      idle-timeout: 300000
      max-lifetime: 600000
      auto-commit: false
  jackson:
    default-property-inclusion: non_null
  lifecycle:
    timeout-per-shutdown-phase: 30s

springdoc:
  swagger-ui:
    path: 'doc'
    disable-swagger-default-url: true
    tags-sorter: alpha
    operations-sorter: alpha

mybatis:
  mapper-locations: classpath:db/mappers/*Mapper.xml
  type-handlers-package: io.kontur.layers.repository.typehandler

management:
  metrics:
    export:
      simple:
        enabled: false
    distribution:
      percentiles-histogram:
       http.server.requests: true
  health:
    ping:
      enabled: false
    diskspace:
      enabled: false
  endpoint:
    health:
      status:
        http-mapping:
          down: 200
      cache:
        time-to-live: 10s
      show-details: always
      show-components: always
      probes:
        enabled: true
  endpoints:
    web:
      exposure:
        include: health, info, prometheus
      base-path: /
      path-mapping:
        prometheus: metrics